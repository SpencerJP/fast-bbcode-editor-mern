(this["webpackJsonpredux-mern-landing"]=this["webpackJsonpredux-mern-landing"]||[]).push([[0],{199:function(t,e,n){t.exports=n(343)},204:function(t,e,n){},205:function(t,e,n){},343:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(35),o=n.n(c),i=(n(204),n(205),n(26)),u=n(27),l=n(28),s=n(29),d=n(30),f=n(22),p=n.n(f),m=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"toReact",value:function(){return r.a.createElement(r.a.Fragment,null,this.getComponents(),r.a.createElement("br",null))}}]),e}(f.Tag),h=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"toReact",value:function(){return r.a.createElement("center",null,this.getComponents())}}]),e}(f.Tag),b=n(23),g=n(359),O=n(356),E=n(352);function v(t){return r.a.createElement(g.a,{inverted:!0,style:t.style},r.a.createElement(O.a,{active:!0},r.a.createElement(E.a,null)))}var j=n(360),y=n(37),x=n.n(y),T=n(61),w=n(62),S=n(188),_=n(357),R=n(20),k=n(353),D=n(24);function C(t){return{type:"GET_DISCORD_USER_OBJECT",payload:t}}function A(){var t=Object(b.a)(["\n\tfont-size: 16px;\n\tline-height: 2em;\n"]);return A=function(){return t},t}function U(){var t=Object(b.a)(["\n\tmax-width: 35px;\n\theight: auto;\n\tfloat: left;\n"]);return U=function(){return t},t}function B(){var t=Object(b.a)(["\n\t&&& {\n\t\tbackground-color: #7289da;\n\t\tcolor: #fff;\n\t\tmin-height: 40px;\n\t\tmin-width: 160px;\n\t}\n"]);return B=function(){return t},t}function I(){var t=Object(b.a)(["\n\t&&&&&& {\n\t\tborder-radius: 50%;\n\t\tmax-width: 40px;\n\t\theight: auto;\n\t\t// margin-left: 6em;\n\t}\n"]);return I=function(){return t},t}var L=Object(D.a)(S.a)(I()),G=Object(D.a)(_.a)(B()),N=D.a.img(U()),z=D.a.span(A());function J(){var t=Object(R.c)((function(t){return t.discordReducer.discordUserObject})),e=Object(R.b)(),n=Object(k.a)(["discord_token"]),a=Object(w.a)(n,3),c=a[0],o=a[2];return r.a.useEffect((function(){function t(){return(t=Object(T.a)(x.a.mark((function t(){var n,a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=c.discord_token)){t.next=9;break}return t.next=4,fetch("https://discordapp.com/api/users/@me",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,e(C(r));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}try{!function(){t.apply(this,arguments)}()}catch(n){console.error(n)}}),[c.discord_token,e]),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a.Column,{style:{minWidth:"160px"}},r.a.createElement(G,{color:"blue",onClick:function(){o("discord_token"),e({type:"DELETE_DISCORD_USER_OBJECT",payload:null})}},r.a.createElement(N,{src:"https://discordapp.com/assets/1c8a54f25d101bdc607cec7228247a9a.svg",alt:"discord icon"}),r.a.createElement(z,null,"Logout"))),r.a.createElement(j.a.Column,{width:2,style:{textAlign:"center"}},r.a.createElement(L,{className:"discord-avatar",id:"avatar",src:"http://cdn.discordapp.com/avatars/".concat(t.id,"/").concat(t.avatar,".png")}))):r.a.createElement(G,{color:"blue",href:window.REACT_APP_URL+"/api/discord/login/"},r.a.createElement(N,{src:"https://discordapp.com/assets/1c8a54f25d101bdc607cec7228247a9a.svg",alt:"discord icon"}),r.a.createElement(z,null,"Login"))}var M=n(355);function W(){var t="object"===typeof window;function e(){return{width:t?window.innerWidth:void 0,height:t?window.innerHeight:void 0}}var n=Object(a.useState)(e),r=Object(w.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){if(!t)return!1;function n(){o(e())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),c}function F(t){return{type:"GET_MOTD",payload:t}}function P(){return function(){var t=Object(T.a)(x.a.mark((function t(e){var n,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(V(!0)),e(X(!0)),t.next=4,fetch("/rules");case 4:return n=t.sent,t.next=7,n.text();case 7:a=t.sent,e(F(a)),e(V(!1)),e(X(!1));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function V(t){return{type:"MOTD_SET_LOADING_STATUS",payload:t}}function X(t){return{type:"EDITBOX_SET_LOADING_STATUS",payload:t}}function H(){var t=Object(b.a)(["\n\tfont-family: Tahoma, Verdana, Segoe, sans-serif;\n\tfont-size: 16px;\n\tfont-style: normal;\n\tfont-variant: normal;\n\tfont-weight: 700;\n\tline-height: 26.4px;\n"]);return H=function(){return t},t}var $=Object(D.a)(M.a.TextArea)(H());function q(t){var e=W().height,n=Object(R.c)((function(t){return t.messageReducer.motd})),a=Object(R.c)((function(t){return t.messageReducer.loadingStatusEditBox})),c=Object(k.a)(["discord_token"]),o=Object(w.a)(c,1)[0],i=Object(R.b)(),u=function(){var t=Object(T.a)(x.a.mark((function t(e){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),i(X(!0)),a={data:n},t.next=5,fetch("/edit",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.discord_token)}});case 5:return t.next=7,i(P());case 7:i(X(!1));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(g.a,null,r.a.createElement(M.a,null,r.a.createElement($,{type:"text",defaultValue:n,onChange:function(t,e){var n=e.value;t.preventDefault(),i(F(n))},style:{height:"".concat(e-100,"px")}})),r.a.createElement(_.a,{onClick:u,color:"blue",style:{marginTop:"3px"},loading:a},"Save"))}function K(){var t=Object(b.a)(["\n\tbackground-color: #5c4949;\n\tpadding: 20px;\n\tborder-radius: 20px;\n"]);return K=function(){return t},t}function Q(){var t=Object(b.a)(["\n\t&&& {\n\t\tpadding: 20px;\n\t\tbackground-color: #222;\n\t\t","\n\t\toverflow-y: scroll;\n\t}\n"]);return Q=function(){return t},t}function Y(){var t=Object(b.a)(["\n\t&&& {\n\t\tpadding: 40px;\n\t\tbackground-color: #222;\n\t\tborder-radius: 13px;\n\t\tbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n\t\t// ","\n\t}\n"]);return Y=function(){return t},t}var Z=Object(D.a)(g.a)(Y(),(function(t){return t.heightString})),tt=D.a.div(Q(),(function(t){return t.heightString})),et=D.a.div(K());function nt(t){var e=W().height,n=Object(R.c)((function(t){return t.messageReducer.motd})),a=Object(R.c)((function(t){return t.messageReducer.loadingStatusMotd})),c=Object(R.c)((function(t){return t.discordReducer.discordUserObject})),o=Object(R.b)(),i=n;return n&&(i=i.replace(/\n/g,"[br][/br]")),r.a.useEffect((function(){try{o(P())}catch(t){console.error(t)}}),[o,t.parser]),!c||"290097917388128258"!==c.id&&"150623388036104192"!==c.id?r.a.createElement("div",{className:"App"},r.a.createElement(et,null,r.a.createElement(Z,{user:c},a?r.a.createElement(v,{style:{height:"1000px"}}):t.parser.toReact(i)),r.a.createElement(J,null))):r.a.createElement("div",{className:"App"},r.a.createElement(et,null,r.a.createElement(j.a,null,r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Column,{width:10},r.a.createElement(Z,{user:c},a?r.a.createElement(v,{style:{height:"".concat(e-100,"px")}}):r.a.createElement(tt,{heightString:"height: ".concat(e-113,"px;")},t.parser.toReact(i)))),r.a.createElement(j.a.Column,{width:6},r.a.createElement(q,null))),r.a.createElement(j.a.Row,null,r.a.createElement(J,null)))))}var at=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"toReact",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),e}(f.Tag);p.a.registerTag("br",m),p.a.registerTag("cent",h),p.a.registerTag("comment",at);var rt=function(){return r.a.createElement(nt,{parser:p.a})},ct=n(354);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ot=n(41),it=n(184),ut=n(185),lt=n.n(ut),st=n(186),dt=n(51),ft={discordUserObject:null,authorizedUsers:[]},pt={motd:null,loadingStatusMotd:!0,loadingStatusEditBox:!0},mt=Object(ot.c)({discordReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_DISCORD_USER_OBJECT":return Object(dt.a)({},t,{discordUserObject:e.payload});case"DELETE_DISCORD_USER_OBJECT":return Object(dt.a)({},t,{discordUserObject:null});default:return t}},messageReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_MOTD":return Object(dt.a)({},t,{motd:e.payload});case"MOTD_SET_LOADING_STATUS":return Object(dt.a)({},t,{loadingStatusMotd:e.payload});case"EDITBOX_SET_LOADING_STATUS":return Object(dt.a)({},t,{loadingStatusEditBox:e.payload});default:return t}}}),ht=[it.a,lt.a,st.a],bt=Object(ot.e)(mt,{},Object(ot.d)(ot.a.apply(void 0,ht)));o.a.render(r.a.createElement(R.a,{store:bt},r.a.createElement(ct.a,null,r.a.createElement(rt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[199,1,2]]]);
//# sourceMappingURL=main.3bf09394.chunk.js.map